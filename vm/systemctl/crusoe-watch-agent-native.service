[Unit]
Description=crusoe-watch: vector.dev based telemetry agent for crusoe cloud
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
EnvironmentFile=/etc/crusoe/crusoe_watch_agent/.env
EnvironmentFile=/etc/crusoe/secrets/.monitoring-token
ExecStartPre=/bin/sleep 5
ExecStart=/usr/bin/vector --config /etc/crusoe/crusoe_watch_agent/vector.yaml
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
